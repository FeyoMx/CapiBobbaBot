{"version":3,"file":"static/js/898.83bf13a7.chunk.js","mappings":"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","sources":["SecurityDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nfunction SecurityDashboard() {\r\n  const [stats, setStats] = useState(null);\r\n  const [alerts, setAlerts] = useState([]);\r\n  const [blockedUsers, setBlockedUsers] = useState([]);\r\n  const [events, setEvents] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [autoRefresh, setAutoRefresh] = useState(true);\r\n\r\n  // Función para cargar estadísticas de seguridad\r\n  const loadSecurityStats = async () => {\r\n    try {\r\n      const response = await fetch('/api/security/stats');\r\n      if (!response.ok) throw new Error('Error al cargar estadísticas');\r\n      const data = await response.json();\r\n      setStats(data);\r\n    } catch (err) {\r\n      console.error('Error:', err);\r\n      setError(err.message);\r\n    }\r\n  };\r\n\r\n  // Función para cargar alertas activas\r\n  const loadAlerts = async () => {\r\n    try {\r\n      const response = await fetch('/api/security/alerts');\r\n      if (!response.ok) throw new Error('Error al cargar alertas');\r\n      const data = await response.json();\r\n      setAlerts(Array.isArray(data) ? data : (data.alerts || []));\r\n    } catch (err) {\r\n      console.error('Error:', err);\r\n      setAlerts([]);\r\n    }\r\n  };\r\n\r\n  // Función para cargar usuarios bloqueados\r\n  const loadBlockedUsers = async () => {\r\n    try {\r\n      const response = await fetch('/api/security/blocked-users');\r\n      if (!response.ok) throw new Error('Error al cargar usuarios bloqueados');\r\n      const data = await response.json();\r\n      setBlockedUsers(Array.isArray(data) ? data : []);\r\n    } catch (err) {\r\n      console.error('Error:', err);\r\n      setBlockedUsers([]);\r\n    }\r\n  };\r\n\r\n  // Función para cargar eventos recientes\r\n  const loadEvents = async () => {\r\n    try {\r\n      const response = await fetch('/api/security/events?limit=20');\r\n      if (!response.ok) throw new Error('Error al cargar eventos');\r\n      const data = await response.json();\r\n      setEvents(Array.isArray(data) ? data : []);\r\n    } catch (err) {\r\n      console.error('Error:', err);\r\n      setEvents([]);\r\n    }\r\n  };\r\n\r\n  // Cargar todos los datos\r\n  const loadAllData = async () => {\r\n    setLoading(true);\r\n    await Promise.all([\r\n      loadSecurityStats(),\r\n      loadAlerts(),\r\n      loadBlockedUsers(),\r\n      loadEvents()\r\n    ]);\r\n    setLoading(false);\r\n  };\r\n\r\n  // Efecto para cargar datos iniciales\r\n  useEffect(() => {\r\n    loadAllData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  // Efecto para auto-actualización\r\n  useEffect(() => {\r\n    if (!autoRefresh) return;\r\n\r\n    const interval = setInterval(() => {\r\n      loadAllData();\r\n    }, 10000); // Actualizar cada 10 segundos\r\n\r\n    return () => clearInterval(interval);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [autoRefresh]);\r\n\r\n  // Función para desbloquear usuario\r\n  const handleUnblockUser = async (userId) => {\r\n    try {\r\n      const response = await fetch(`/api/security/unblock/${userId}`, {\r\n        method: 'POST'\r\n      });\r\n      if (!response.ok) throw new Error('Error al desbloquear usuario');\r\n      await loadBlockedUsers();\r\n      alert(`Usuario ${userId} desbloqueado exitosamente`);\r\n    } catch (err) {\r\n      alert(`Error: ${err.message}`);\r\n    }\r\n  };\r\n\r\n  // Función para obtener color de severidad\r\n  const getSeverityColor = (severity) => {\r\n    const colors = {\r\n      critical: '#dc3545',\r\n      high: '#fd7e14',\r\n      medium: '#ffc107',\r\n      low: '#6c757d'\r\n    };\r\n    return colors[severity] || '#6c757d';\r\n  };\r\n\r\n  // Función para formatear fecha\r\n  const formatDate = (timestamp) => {\r\n    return new Date(timestamp).toLocaleString('es-MX', {\r\n      year: 'numeric',\r\n      month: '2-digit',\r\n      day: '2-digit',\r\n      hour: '2-digit',\r\n      minute: '2-digit',\r\n      second: '2-digit'\r\n    });\r\n  };\r\n\r\n  if (loading && !stats) {\r\n    return (\r\n      <div style={{ textAlign: 'center', padding: '40px' }}>\r\n        <i className=\"fas fa-spinner fa-spin\" style={{ fontSize: '2em', color: '#007bff' }}></i>\r\n        <p>Cargando estadísticas de seguridad...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div style={{ textAlign: 'center', padding: '40px', color: '#dc3545' }}>\r\n        <i className=\"fas fa-exclamation-triangle\" style={{ fontSize: '2em' }}></i>\r\n        <p>Error: {error}</p>\r\n        <button onClick={loadAllData} className=\"btn btn-primary\">\r\n          Reintentar\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"security-dashboard\">\r\n      {/* Header con controles */}\r\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '20px' }}>\r\n        <h2 style={{ margin: 0 }}>\r\n          <i className=\"fas fa-shield-alt\"></i> Panel de Seguridad\r\n        </h2>\r\n        <div>\r\n          <label style={{ marginRight: '10px', cursor: 'pointer' }}>\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={autoRefresh}\r\n              onChange={(e) => setAutoRefresh(e.target.checked)}\r\n              style={{ marginRight: '5px' }}\r\n            />\r\n            Auto-actualizar\r\n          </label>\r\n          <button onClick={loadAllData} className=\"btn btn-secondary\">\r\n            <i className=\"fas fa-sync-alt\"></i> Actualizar\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Estadísticas generales */}\r\n      {stats && (\r\n        <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '15px', marginBottom: '30px' }}>\r\n          <div className=\"stat-card\" style={{ background: '#f8f9fa', padding: '20px', borderRadius: '8px', textAlign: 'center' }}>\r\n            <div style={{ fontSize: '2em', color: '#007bff', marginBottom: '10px' }}>\r\n              <i className=\"fas fa-bell\"></i>\r\n            </div>\r\n            <h3 style={{ margin: 0, fontSize: '2em' }}>{stats.alerts.total}</h3>\r\n            <p style={{ margin: '5px 0 0', color: '#6c757d' }}>Alertas Totales</p>\r\n          </div>\r\n\r\n          <div className=\"stat-card\" style={{ background: '#fff3cd', padding: '20px', borderRadius: '8px', textAlign: 'center' }}>\r\n            <div style={{ fontSize: '2em', color: '#dc3545', marginBottom: '10px' }}>\r\n              <i className=\"fas fa-exclamation-circle\"></i>\r\n            </div>\r\n            <h3 style={{ margin: 0, fontSize: '2em' }}>{stats.alerts.critical}</h3>\r\n            <p style={{ margin: '5px 0 0', color: '#856404' }}>Alertas Críticas</p>\r\n          </div>\r\n\r\n          <div className=\"stat-card\" style={{ background: '#f8d7da', padding: '20px', borderRadius: '8px', textAlign: 'center' }}>\r\n            <div style={{ fontSize: '2em', color: '#fd7e14', marginBottom: '10px' }}>\r\n              <i className=\"fas fa-ban\"></i>\r\n            </div>\r\n            <h3 style={{ margin: 0, fontSize: '2em' }}>{stats.blockedUsers}</h3>\r\n            <p style={{ margin: '5px 0 0', color: '#721c24' }}>Usuarios Bloqueados</p>\r\n          </div>\r\n\r\n          <div className=\"stat-card\" style={{ background: '#d1ecf1', padding: '20px', borderRadius: '8px', textAlign: 'center' }}>\r\n            <div style={{ fontSize: '2em', color: '#0c5460', marginBottom: '10px' }}>\r\n              <i className=\"fas fa-shield-alt\"></i>\r\n            </div>\r\n            <h3 style={{ margin: 0, fontSize: '2em' }}>{Object.values(stats.events).reduce((a, b) => a + b, 0)}</h3>\r\n            <p style={{ margin: '5px 0 0', color: '#0c5460' }}>Eventos Totales</p>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Alertas activas */}\r\n      <div style={{ marginBottom: '30px' }}>\r\n        <h3><i className=\"fas fa-exclamation-triangle\"></i> Alertas Activas ({alerts.length})</h3>\r\n        <div style={{ maxHeight: '300px', overflowY: 'auto', border: '1px solid #dee2e6', borderRadius: '8px', background: '#fff' }}>\r\n          {alerts.length === 0 ? (\r\n            <div style={{ padding: '20px', textAlign: 'center', color: '#28a745' }}>\r\n              <i className=\"fas fa-check-circle\" style={{ fontSize: '2em', marginBottom: '10px' }}></i>\r\n              <p>No hay alertas activas</p>\r\n            </div>\r\n          ) : (\r\n            <table style={{ width: '100%', borderCollapse: 'collapse' }}>\r\n              <thead style={{ background: '#f8f9fa', position: 'sticky', top: 0 }}>\r\n                <tr>\r\n                  <th style={{ padding: '12px', textAlign: 'left', borderBottom: '2px solid #dee2e6' }}>Severidad</th>\r\n                  <th style={{ padding: '12px', textAlign: 'left', borderBottom: '2px solid #dee2e6' }}>Tipo</th>\r\n                  <th style={{ padding: '12px', textAlign: 'left', borderBottom: '2px solid #dee2e6' }}>Detalles</th>\r\n                  <th style={{ padding: '12px', textAlign: 'left', borderBottom: '2px solid #dee2e6' }}>Fecha</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {alerts.map((alert, index) => (\r\n                  <tr key={index} style={{ borderBottom: '1px solid #dee2e6' }}>\r\n                    <td style={{ padding: '12px' }}>\r\n                      <span style={{\r\n                        background: getSeverityColor(alert.severity),\r\n                        color: '#fff',\r\n                        padding: '4px 8px',\r\n                        borderRadius: '4px',\r\n                        fontSize: '0.85em',\r\n                        fontWeight: 'bold',\r\n                        textTransform: 'uppercase'\r\n                      }}>\r\n                        {alert.severity}\r\n                      </span>\r\n                    </td>\r\n                    <td style={{ padding: '12px' }}>{alert.type}</td>\r\n                    <td style={{ padding: '12px', fontSize: '0.9em' }}>\r\n                      {JSON.stringify(alert.data).substring(0, 50)}...\r\n                    </td>\r\n                    <td style={{ padding: '12px', fontSize: '0.85em', color: '#6c757d' }}>\r\n                      {formatDate(alert.createdAt)}\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Usuarios bloqueados */}\r\n      <div style={{ marginBottom: '30px' }}>\r\n        <h3><i className=\"fas fa-user-lock\"></i> Usuarios Bloqueados ({blockedUsers.length})</h3>\r\n        <div style={{ maxHeight: '300px', overflowY: 'auto', border: '1px solid #dee2e6', borderRadius: '8px', background: '#fff' }}>\r\n          {blockedUsers.length === 0 ? (\r\n            <div style={{ padding: '20px', textAlign: 'center', color: '#6c757d' }}>\r\n              <i className=\"fas fa-user-check\" style={{ fontSize: '2em', marginBottom: '10px' }}></i>\r\n              <p>No hay usuarios bloqueados</p>\r\n            </div>\r\n          ) : (\r\n            <table style={{ width: '100%', borderCollapse: 'collapse' }}>\r\n              <thead style={{ background: '#f8f9fa', position: 'sticky', top: 0 }}>\r\n                <tr>\r\n                  <th style={{ padding: '12px', textAlign: 'left', borderBottom: '2px solid #dee2e6' }}>Usuario</th>\r\n                  <th style={{ padding: '12px', textAlign: 'left', borderBottom: '2px solid #dee2e6' }}>Razón</th>\r\n                  <th style={{ padding: '12px', textAlign: 'left', borderBottom: '2px solid #dee2e6' }}>Bloqueado en</th>\r\n                  <th style={{ padding: '12px', textAlign: 'left', borderBottom: '2px solid #dee2e6' }}>Expira en</th>\r\n                  <th style={{ padding: '12px', textAlign: 'left', borderBottom: '2px solid #dee2e6' }}>Acciones</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {blockedUsers.map((user, index) => (\r\n                  <tr key={index} style={{ borderBottom: '1px solid #dee2e6' }}>\r\n                    <td style={{ padding: '12px', fontWeight: 'bold' }}>{user.userId}</td>\r\n                    <td style={{ padding: '12px', fontSize: '0.9em' }}>{user.reason}</td>\r\n                    <td style={{ padding: '12px', fontSize: '0.85em', color: '#6c757d' }}>\r\n                      {formatDate(user.blockedAt)}\r\n                    </td>\r\n                    <td style={{ padding: '12px', fontSize: '0.85em', color: '#6c757d' }}>\r\n                      {formatDate(user.expiresAt)}\r\n                    </td>\r\n                    <td style={{ padding: '12px' }}>\r\n                      <button\r\n                        onClick={() => handleUnblockUser(user.userId)}\r\n                        className=\"btn btn-sm btn-warning\"\r\n                        style={{ fontSize: '0.85em' }}\r\n                      >\r\n                        <i className=\"fas fa-unlock\"></i> Desbloquear\r\n                      </button>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Eventos recientes */}\r\n      <div>\r\n        <h3><i className=\"fas fa-list\"></i> Eventos Recientes ({events.length})</h3>\r\n        <div style={{ maxHeight: '400px', overflowY: 'auto', border: '1px solid #dee2e6', borderRadius: '8px', background: '#fff' }}>\r\n          {events.length === 0 ? (\r\n            <div style={{ padding: '20px', textAlign: 'center', color: '#6c757d' }}>\r\n              <i className=\"fas fa-inbox\" style={{ fontSize: '2em', marginBottom: '10px' }}></i>\r\n              <p>No hay eventos recientes</p>\r\n            </div>\r\n          ) : (\r\n            <table style={{ width: '100%', borderCollapse: 'collapse' }}>\r\n              <thead style={{ background: '#f8f9fa', position: 'sticky', top: 0 }}>\r\n                <tr>\r\n                  <th style={{ padding: '12px', textAlign: 'left', borderBottom: '2px solid #dee2e6' }}>Tipo</th>\r\n                  <th style={{ padding: '12px', textAlign: 'left', borderBottom: '2px solid #dee2e6' }}>Severidad</th>\r\n                  <th style={{ padding: '12px', textAlign: 'left', borderBottom: '2px solid #dee2e6' }}>Detalles</th>\r\n                  <th style={{ padding: '12px', textAlign: 'left', borderBottom: '2px solid #dee2e6' }}>Fecha</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {events.map((event, index) => (\r\n                  <tr key={index} style={{ borderBottom: '1px solid #dee2e6' }}>\r\n                    <td style={{ padding: '12px' }}>{event.type}</td>\r\n                    <td style={{ padding: '12px' }}>\r\n                      <span style={{\r\n                        background: getSeverityColor(event.severity),\r\n                        color: '#fff',\r\n                        padding: '4px 8px',\r\n                        borderRadius: '4px',\r\n                        fontSize: '0.85em',\r\n                        fontWeight: 'bold'\r\n                      }}>\r\n                        {event.severity}\r\n                      </span>\r\n                    </td>\r\n                    <td style={{ padding: '12px', fontSize: '0.9em' }}>\r\n                      {JSON.stringify(event.data).substring(0, 60)}...\r\n                    </td>\r\n                    <td style={{ padding: '12px', fontSize: '0.85em', color: '#6c757d' }}>\r\n                      {formatDate(event.timestamp)}\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Contadores de eventos por tipo */}\r\n      {stats && stats.events && (\r\n        <div style={{ marginTop: '30px' }}>\r\n          <h3><i className=\"fas fa-chart-pie\"></i> Eventos por Tipo</h3>\r\n          <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '15px' }}>\r\n            {Object.entries(stats.events).map(([type, count]) => (\r\n              <div key={type} style={{ background: '#f8f9fa', padding: '15px', borderRadius: '8px', textAlign: 'center' }}>\r\n                <h4 style={{ margin: 0, fontSize: '1.5em' }}>{count}</h4>\r\n                <p style={{ margin: '5px 0 0', color: '#6c757d', fontSize: '0.9em' }}>\r\n                  {type.replace(/_/g, ' ').toUpperCase()}\r\n                </p>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SecurityDashboard;\r\n"],"names":["stats","setStats","useState","alerts","setAlerts","blockedUsers","setBlockedUsers","events","setEvents","loading","setLoading","error","setError","autoRefresh","setAutoRefresh","loadSecurityStats","async","response","fetch","ok","Error","data","json","err","console","message","loadAlerts","Array","isArray","loadBlockedUsers","loadEvents","loadAllData","Promise","all","useEffect","interval","setInterval","clearInterval","getSeverityColor","severity","critical","high","medium","low","formatDate","timestamp","Date","toLocaleString","year","month","day","hour","minute","second","_jsxs","style","textAlign","padding","children","_jsx","className","fontSize","color","onClick","display","justifyContent","alignItems","marginBottom","margin","marginRight","cursor","type","checked","onChange","e","target","gridTemplateColumns","gap","background","borderRadius","total","Object","values","reduce","a","b","length","maxHeight","overflowY","border","width","borderCollapse","position","top","borderBottom","map","alert","index","fontWeight","textTransform","JSON","stringify","substring","createdAt","user","userId","reason","blockedAt","expiresAt","concat","method","handleUnblockUser","event","marginTop","entries","_ref","count","replace","toUpperCase"],"sourceRoot":""}